<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>게시물 보기</title>
</head>
<body>
<div id='header'>
        user01 <a href='/java106-java-project/app/auth/logout'>로그아웃</a>
</div>

<h1>게시물 보기</h1>
<form action='update' method='post'>
<table border='1'>
<tr><th>번호</th><td>
    <input id="fId" type='text' readonly></td></tr>
<tr><th>제목</th>
    <td><input id="fTitle" type='text'></td></tr>
<tr><th>내용</th>
    <td><textarea id='fContent' rows='10' cols='60'></textarea></td></tr>
<tr><th>등록일</th>
    <td><input id="fCreatedDate" type='text' readonly></td></tr>
</table>
<p>
<a href='list'>목록</a>
<button>변경</button>
<a href='delete?no=28'>삭제</a>
</p>
</form>

<script>
var fId = document.querySelector("#fId"),
    fTitle = document.querySelector("#fTitle"),
    fContent = document.querySelector("#fContent"),
    fCreatedDate = document.querySelector("#fCreatedDate");
    
var no = location.href.split("?")[1].split("=")[1];

var xhr = new XMLHttpRequest();
xhr.onreadystatechange = () => {
    if (xhr.readyState == 4) {
        if (xhr.status == 200) {
            var data = JSON.parse(xhr.responseText);
            fId.value = data.no;
            fTitle.value = data.title;
            fContent.value = data.content;
            fCreatedDate.value = data.createdDate;
        }
    }
};
xhr.open("GET", "../../json/board/" + no, true);
xhr.send();

</script>

</body>
</html>
    
    
    
    
    
    
    
    
    
    